<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>üéÇ Happy Birthday!</title>
		
		<!-- Favicon with birthday cake emoji -->
		<link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>üéÇ</text></svg>">
		<!-- Load Tailwind CSS -->
		<script src="https://cdn.tailwindcss.com"></script>

		<!-- Load custom Google Fonts -->
		<link rel="preconnect" href="https://fonts.googleapis.com" />
		<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
		<link
			href="https://fonts.googleapis.com/css2?family=Parisienne&family=Inter:wght@400;600;700&display=swap"
			rel="stylesheet"
		/>

		<!-- Load Tone.js for music -->
		<script src="https://cdn.jsdelivr.net/npm/tone@14.7.77/build/Tone.min.js"></script>

		<style>
			/* Apply custom fonts */
			.font-cursive {
				font-family: "Parisienne", cursive;
			}
			.font-sans {
				font-family: "Inter", sans-serif;
			}

			/* Confetti Animation */
			body {
				background: linear-gradient(135deg, #fff1f5 0%, #ffe4ea 40%, #fdf2ff 100%);
				min-height: 100vh;
				color: #1f2933;
				overflow-x: hidden;
			}

			.confetti-container {
				/* CHANGED: position: fixed to lock to viewport */
				position: fixed;
				top: 0;
				left: 0;
				width: 100%;
				height: 100%;
				overflow: hidden;
				pointer-events: none;
				z-index: 30;
			}

			.confetti {
				position: absolute;
				width: 10px;
				height: 10px;
				background-color: #f472b6; /* Pink */
				opacity: 0.9;
				border-radius: 50%;
				animation: fall 10s linear infinite;
			}

			.confetti:nth-child(5n + 1) {
				background-color: #ec4899;
			} /* Deeper Pink */
			.confetti:nth-child(5n + 2) {
				background-color: #fbbf24;
			} /* Gold */
			.confetti:nth-child(5n + 3) {
				background-color: #ef4444;
			} /* Red */
			.confetti:nth-child(5n + 4) {
				background-color: #f9a8d4;
			} /* Light Pink */
			.confetti:nth-child(5n) {
				width: 5px;
				height: 15px;
				border-radius: 0;
			} /* Ribbon */

			@keyframes fall {
				0% {
					transform: translateY(-20vh) rotate(0deg);
					opacity: 1;
				}
				100% {
					transform: translateY(120vh) rotate(720deg);
					opacity: 0;
				}
			}

			/* Simple Loader */
			@keyframes spin {
				0% {
					transform: rotate(0deg);
				}
				100% {
					transform: rotate(360deg);
				}
			}
			.loader {
				border: 4px solid #f3f3f3; /* Light grey */
				border-top: 4px solid #ec4899; /* Pink */
				border-radius: 50%;
				width: 40px;
				height: 40px;
				animation: spin 1s linear infinite;
			}

			/* NEW: Balloon Styles */
			.balloon-container {
				/* CHANGED: position: fixed and removed pointer-events: none */
				position: fixed;
				top: 0;
				left: 0;
				width: 100%;
				height: 100%;
				overflow: hidden;
				/* CHANGED: z-index 50 (in front of card) */
				z-index: 50;
				/* NEW: Clicks pass through the container */
				pointer-events: none;
			}

			.balloon {
				position: absolute;
				bottom: -150px; /* Start below the screen */
				border-radius: 50% 50% 50% 50% / 60% 60% 40% 40%;
				opacity: 0.8;
				animation: floatUp 15s ease-in infinite;
				/* NEW: Add pointer-events so they are clickable */
				pointer-events: auto;
				cursor: pointer;
				transition: transform 0.1s ease-out, opacity 0.1s ease-out;
				/* NEW: Added gradient for "shine" effect */
				background-image: radial-gradient(
					circle at 30% 30%,
					rgba(255, 255, 255, 0.5) 0%,
					rgba(255, 255, 255, 0.05) 50%,
					transparent 70%
				);
			}

			.balloon::before {
				content: "";
				position: absolute;
				width: 1px; /* String width */
				height: 100px; /* String length */
				/* NEW: Lighter string color */
				background-color: rgba(0, 0, 0, 0.2);
				left: 50%;
				transform: translateX(-50%);
				bottom: -100px; /* Position string below balloon */
			}

			/* NEW: Balloon knot style */
			.balloon::after {
				content: "";
				position: absolute;
				width: 8px;
				height: 8px;
				background: inherit; /* Inherits the balloon's bg color */
				border-radius: 50%;
				left: 50%;
				transform: translateX(-50%);
				bottom: -4px; /* Sits on top of the balloon's bottom edge */
				filter: brightness(0.8); /* Slightly darker knot */
			}

			/* Balloon colors */
			/* CHANGED: Moved background-color here */
			.balloon-pink {
				background-color: #f472b6;
			}
			.balloon-gold {
				background-color: #fbbf24;
			}
			.balloon-red {
				background-color: #ef4444;
			}
			.balloon-purple {
				background-color: #a78bfa;
			}

			@keyframes floatUp {
				0% {
					transform: translateY(0) rotateZ(0deg);
					opacity: 0.8;
				}
				50% {
					transform: translateY(-50vh) rotateZ(10deg);
					opacity: 0.9;
				}
				100% {
					transform: translateY(-100vh) rotateZ(-10deg);
					opacity: 0;
				}
			}

			/* NEW: Balloon Pop Animation */
			.balloon.popped {
				animation: none; /* Stop the floatUp animation */
				transform: scale(1.5);
				opacity: 0;
			}

			.card {
				background: rgba(255, 255, 255, 0.85);
				border-radius: 32px;
				padding: 2.5rem;
				box-shadow: 0 30px 80px rgba(236, 72, 153, 0.15);
				backdrop-filter: blur(10px);
				border: 1px solid rgba(255, 255, 255, 0.6);
				position: relative;
				overflow: hidden;
			}
			.card::before {
				content: "";
				position: absolute;
				inset: 0;
				border-radius: 32px;
				padding: 1px;
				background: linear-gradient(135deg, rgba(255, 255, 255, 0.7), transparent);
				-webkit-mask:
					linear-gradient(#fff 0 0) content-box,
					linear-gradient(#fff 0 0);
				-webkit-mask-composite: xor;
				mask-composite: exclude;
				pointer-events: none;
			}

			/* Photo Garland Styles */
			.photo-garland {
				position: relative;
				width: 100%;
				padding: 60px 0 40px;
				margin-bottom: 20px;
			}

			/* String/Rope */
			.garland-string {
				position: absolute;
				top: 20px;
				left: 0;
				width: 100%;
				height: 2px;
				background: linear-gradient(to right, 
					transparent 0%, 
					#8b7355 10%, 
					#8b7355 90%, 
					transparent 100%);
				z-index: 1;
			}

			/* Fairy lights on the string */
			.fairy-light {
				position: absolute;
				width: 8px;
				height: 8px;
				background: #ffd700;
				border-radius: 50%;
				box-shadow: 0 0 10px 3px rgba(255, 215, 0, 0.6),
							0 0 20px 5px rgba(255, 215, 0, 0.3);
				animation: twinkle 2s infinite;
				z-index: 2;
			}

			@keyframes twinkle {
				0%, 100% { opacity: 0.8; }
				50% { opacity: 1; }
			}

			/* Photo container */
			.garland-photos {
				position: relative;
				display: flex;
				justify-content: center;
				gap: 20px;
				flex-wrap: wrap;
				padding-top: 35px;
				z-index: 3;
			}

			/* Individual Polaroid photo */
			.polaroid {
				background: white;
				padding: 12px 12px 45px 12px;
				box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2),
							0 6px 20px rgba(0, 0, 0, 0.15);
				position: relative;
				transition: transform 0.3s ease;
			}

			.polaroid:hover {
				transform: translateY(-5px) !important;
				box-shadow: 0 8px 16px rgba(0, 0, 0, 0.3);
			}

			/* Varying rotations for natural look */
			.polaroid:nth-child(1) { transform: rotate(-4deg); }
			.polaroid:nth-child(2) { transform: rotate(2deg); }
			.polaroid:nth-child(3) { transform: rotate(-3deg); }
			.polaroid:nth-child(4) { transform: rotate(5deg); }
			.polaroid:nth-child(5) { transform: rotate(-2deg); }
			.polaroid:nth-child(6) { transform: rotate(3deg); }

			.polaroid img {
				display: block;
				width: 120px;
				height: 120px;
				object-fit: cover;
			}

			/* Clip holding the photo */
			.photo-clip {
				position: absolute;
				top: -12px;
				left: 50%;
				transform: translateX(-50%);
				width: 20px;
				height: 24px;
				background: linear-gradient(to bottom, #d4af37 0%, #c9a961 50%, #d4af37 100%);
				border-radius: 2px 2px 0 0;
				box-shadow: inset 0 1px 2px rgba(255, 255, 255, 0.3),
							0 2px 4px rgba(0, 0, 0, 0.3);
				z-index: 4;
			}

			.photo-clip::before {
				content: "";
				position: absolute;
				top: 50%;
				left: 50%;
				transform: translate(-50%, -50%);
				width: 14px;
				height: 2px;
				background: #8b7355;
				border-radius: 1px;
			}

			/* Light glow around clips */
			.photo-clip::after {
				content: "";
				position: absolute;
				top: -8px;
				left: 50%;
				transform: translateX(-50%);
				width: 12px;
				height: 12px;
				background: radial-gradient(circle, rgba(255, 215, 0, 0.8) 0%, transparent 70%);
				border-radius: 50%;
				animation: twinkle 2s infinite;
			}

			/* Responsive adjustments */
			@media (max-width: 640px) {
				.polaroid img {
					width: 100px;
					height: 100px;
				}
				.garland-photos {
					gap: 15px;
				}
			}

			/* Password Protection Screen */
			#password-screen {
				position: fixed;
				top: 0;
				left: 0;
				width: 100%;
				height: 100%;
				background: linear-gradient(135deg, #fff1f2 0%, #ffe4e6 50%, #fce7f3 100%);
				display: flex;
				align-items: center;
				justify-content: center;
				z-index: 9999;
				transition: opacity 0.5s ease-out;
			}

			#password-screen.hidden {
				opacity: 0;
				pointer-events: none;
			}

			.password-container {
				background: rgba(255, 255, 255, 0.9);
				backdrop-filter: blur(10px);
				border-radius: 24px;
				padding: 3rem 2.5rem;
				box-shadow: 0 20px 60px rgba(236, 72, 153, 0.2);
				border: 1px solid rgba(255, 255, 255, 0.8);
				max-width: 400px;
				width: 90%;
				text-align: center;
			}

			.password-input {
				width: 100%;
				padding: 14px 20px;
				border: 2px solid #f9a8d4;
				border-radius: 12px;
				font-size: 16px;
				margin-top: 1rem;
				transition: all 0.3s ease;
				background: white;
			}

			.password-input:focus {
				outline: none;
				border-color: #ec4899;
				box-shadow: 0 0 0 3px rgba(236, 72, 153, 0.1);
			}

			.password-button {
				width: 100%;
				padding: 14px 20px;
				background: linear-gradient(135deg, #ec4899 0%, #f472b6 100%);
				color: white;
				border: none;
				border-radius: 12px;
				font-size: 16px;
				font-weight: 600;
				margin-top: 1rem;
				cursor: pointer;
				transition: all 0.3s ease;
			}

			.password-button:hover {
				transform: translateY(-2px);
				box-shadow: 0 8px 20px rgba(236, 72, 153, 0.3);
			}

			.password-error {
				color: #dc2626;
				margin-top: 0.75rem;
				font-size: 14px;
				display: none;
			}

			.password-error.show {
				display: block;
				animation: shake 0.5s;
			}

			@keyframes shake {
				0%, 100% { transform: translateX(0); }
				25% { transform: translateX(-10px); }
				75% { transform: translateX(10px); }
			}
		</style>
	</head>
	<body class="font-sans">
		<!-- Password Protection Screen -->
		<div id="password-screen">
			<div class="password-container">
				<div class="text-6xl mb-4">üîí</div>
				<h2 class="font-cursive text-4xl text-pink-600 mb-2">Enter Password</h2>
				<input 
					type="password" 
					id="password-input" 
					class="password-input" 
					placeholder="Enter password..."
					autocomplete="off"
				>
				<button id="password-submit" class="password-button">Unlock üéÇ</button>
				<div id="password-error" class="password-error">
					‚ùå Incorrect password. Please try again!
				</div>
			</div>
		</div>

		<!-- Cover Screen -->
		<div
			id="cover-screen"
			class="fixed top-0 left-0 w-full h-full flex items-center justify-center z-[100] cursor-pointer"
			style="background: linear-gradient(135deg, #fff1f2 0%, #ffe4e6 100%)"
		>
			<div
				class="text-center p-8 rounded-2xl shadow-xl bg-white/50 backdrop-blur-sm transition-transform transform hover:scale-105"
			>
				<!-- CHANGED: Responsive font size -->
				<h1 class="font-cursive text-4xl sm:text-5xl md:text-6xl text-pink-600">
					A Message For You
				</h1>
				<p class="font-sans text-gray-700 mt-4 text-lg">Click to open...</p>
				<div class="text-6xl mt-4 animate-bounce">üíå</div>
			</div>
		</div>

		<!-- Confetti container (will be populated by JS) -->
		<div id="confetti-container" class="confetti-container"></div>

		<!-- NEW: Balloon Container -->
		<div id="balloon-container" class="balloon-container"></div>

		<!-- Main Content Wrapper (hidden initially) -->
		<div
			id="main-content"
			class="hidden opacity-0 transition-opacity duration-1000 ease-in-out"
		>
			<div
				class="relative min-h-screen flex items-center justify-center p-6 py-16"
			>
				<div class="absolute inset-0 pointer-events-none">
					<div
						class="absolute -top-10 -left-10 w-48 h-48 bg-white/40 blur-[120px] rounded-full"
					></div>
					<div
						class="absolute bottom-10 -right-6 w-56 h-56 bg-pink-100/60 blur-[120px] rounded-full"
					></div>
				</div>
				<div class="relative max-w-4xl w-full z-40">
					<div class="card space-y-8 text-center">
					<!-- Photo Garland -->
					<div class="photo-garland">
						<!-- String -->
						<div class="garland-string"></div>
						
						<!-- Fairy Lights positioned along the string -->
						<div class="fairy-light" style="left: 15%; top: 18px; animation-delay: 0s;"></div>
						<div class="fairy-light" style="left: 28%; top: 18px; animation-delay: 0.5s;"></div>
						<div class="fairy-light" style="left: 42%; top: 18px; animation-delay: 1s;"></div>
						<div class="fairy-light" style="left: 58%; top: 18px; animation-delay: 0.3s;"></div>
						<div class="fairy-light" style="left: 72%; top: 18px; animation-delay: 0.8s;"></div>
						<div class="fairy-light" style="left: 85%; top: 18px; animation-delay: 1.2s;"></div>
						
						<!-- Photos Container -->
						<div class="garland-photos">
							<!-- Photo 1 -->
							<div class="polaroid">
								<div class="photo-clip"></div>
								<img src="./photos/photo1.jpeg" alt="Memory 1">
							</div>
							
							<!-- Photo 2 -->
							<div class="polaroid">
								<div class="photo-clip"></div>
								<img src="./photos/photo2.jpeg" alt="Memory 2">
							</div>
							
							<!-- Photo 3 -->
							<div class="polaroid">
								<div class="photo-clip"></div>
								<img src="./photos/photo3.jpeg" alt="Memory 3">
							</div>
							
							<!-- Photo 4 -->
							<div class="polaroid">
								<div class="photo-clip"></div>
								<img src="./photos/photo4.jpeg" alt="Memory 4">
							</div>
							
							<!-- Photo 5 -->
							<div class="polaroid">
								<div class="photo-clip"></div>
								<img src="./photos/photo5.jpeg" alt="Memory 5">
							</div>
							
							<!-- Photo 6 -->
							<div class="polaroid">
								<div class="photo-clip"></div>
								<img src="./photos/photo6.jpg" alt="Memory 6">
							</div>
						</div>
					</div>

						<div
							id="birthday-image-container"
							class="relative w-36 h-36 sm:w-48 sm:h-48 mx-auto rounded-full overflow-hidden shadow-xl ring-4 ring-white/70 hidden opacity-0 -translate-y-4 transition-all duration-1000 ease-in-out"
						>
							<img
								src="./photos/profile.jpeg"
								alt="Happy Birthday, My Love!"
								class="w-full h-full object-cover"
								style="object-position: center 30%;"
								onerror="this.src='https://placehold.co/400x400/cccccc/333333?text=Image+Error'"
							/>
						</div>

						<div class="space-y-4">
							<h1
								id="birthday-title"
								class="font-cursive text-5xl sm:text-6xl text-pink-500 hidden opacity-0 -translate-y-4 transition-all duration-1000 ease-in-out"
							>
								Happy Birthday, My Love!
							</h1>
							<div
								id="birthday-message"
								class="hidden opacity-0 -translate-y-4 transition-all duration-1000 ease-in-out space-y-4 text-lg text-gray-700 max-w-2xl mx-auto"
							>
								<p>
									To the most amazing person I know, words can't describe how
									lucky I am to have you in my life. You make every day brighter
									just by being you. I hope your day is as wonderful as you are.
								</p>
							</div>
						</div>

						<div
							id="birthday-buttons"
							class="hidden opacity-0 -translate-y-4 transition-all duration-1000 ease-in-out grid gap-3 sm:grid-cols-3"
						>
							<button
								id="surpriseButton"
								class="bg-gradient-to-r from-rose-500 to-rose-600 text-white font-semibold py-3 px-6 rounded-full shadow-lg transition hover:shadow-2xl focus:outline-none"
							>
								üéÅ Don't Click This!
							</button>
							<button
								id="tuneButton"
								class="bg-gradient-to-r from-blue-500 to-teal-500 text-white font-semibold py-3 px-6 rounded-full shadow-lg transition hover:shadow-2xl focus:outline-none"
							>
								üéµ Play Birthday Tune üéµ
							</button>
							<button
								id="poemButton"
								class="bg-gradient-to-r from-purple-500 via-pink-500 to-rose-500 text-white font-semibold py-3 px-6 rounded-full shadow-lg transition hover:shadow-2xl focus:outline-none"
							>
								üíå Secret Button üíå
							</button>
						</div>

						<div
							id="poemContainer"
							class="hidden opacity-0 -translate-y-4 scale-95 origin-top mt-4 p-6 bg-pink-50 rounded-3xl shadow-inner text-center transition-all duration-500"
						>
							<h3 class="font-cursive text-3xl text-pink-600 mb-4">
								A little poem for you...
							</h3>
							<p
								class="font-sans text-gray-700 text-center whitespace-pre-line leading-relaxed text-lg"
							>
								The stars align to praise this happy date;
								<br />For you bring light and wonder to my days.
								<br />My soul finds harbor within your lovely fate;
								<br />Happy birthday, my eternal, sweet amaze.
							</p>
						</div>

						<div
							id="reasonsList"
							class="hidden opacity-0 -translate-y-4 scale-95 origin-top mt-4 transition-all duration-500"
						>
							<h2 class="text-2xl font-bold text-gray-800 mb-3">
								A few reasons I love you...
							</h2>
							<ul
								class="list-disc list-inside space-y-2 text-gray-700 text-left max-w-md mx-auto"
							>
								<li>Your incredible smile</li>
								<li>How you always make me smart?</li>
								<li>Your kindness to everyone you meet</li>
								<li>Our late-night conversations about everything</li>
								<li>Your "jaaa yaaarrr..."</li>
								<li>...and your infinitely smart brain that always keeps on braining </li>
							</ul>
						</div>
					</div>
				</div>
			</div>
		</div>

		<!-- Password Protection Script -->
		<script>
			(function() {
				const CORRECT_PASSWORD = 'shreya2024';
				const PASSWORD_KEY = 'birthdayCardUnlocked';
				
				// Check if already unlocked in this session
				if (sessionStorage.getItem(PASSWORD_KEY) === 'true') {
					document.getElementById('password-screen').classList.add('hidden');
					return;
				}
				
				const passwordInput = document.getElementById('password-input');
				const passwordSubmit = document.getElementById('password-submit');
				const passwordError = document.getElementById('password-error');
				const passwordScreen = document.getElementById('password-screen');
				
				function checkPassword() {
					const enteredPassword = passwordInput.value;
					
					if (enteredPassword === CORRECT_PASSWORD) {
						// Correct password
						sessionStorage.setItem(PASSWORD_KEY, 'true');
						passwordScreen.classList.add('hidden');
						passwordError.classList.remove('show');
					} else {
						// Wrong password
						passwordError.classList.add('show');
						passwordInput.value = '';
						passwordInput.focus();
						
						// Remove error after 3 seconds
						setTimeout(() => {
							passwordError.classList.remove('show');
						}, 3000);
					}
				}
				
				// Submit on button click
				passwordSubmit.addEventListener('click', checkPassword);
				
				// Submit on Enter key
				passwordInput.addEventListener('keypress', (e) => {
					if (e.key === 'Enter') {
						checkPassword();
					}
				});
				
				// Focus input on load
				passwordInput.focus();
			})();
		</script>

				<script type="module" src="./dist/main.js"></script>
	</body>
</html>
